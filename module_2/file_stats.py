#!/usr/bin/env python
""" Program Does not work on Windows due to use of pwd library"""
import sys
import os
import pwd
import datetime

try:
    paths=sys.argv[1]
except IndexError:
    print("formant is ./program [path of file to be analyzed]")
if(os.access(paths,os.F_OK) is False):
        print("File does not exit")
        exit()
str=''
if(os.access(paths,os.R_OK)):
    str=str+'r'
if(os.access(paths,os.W_OK)):
    str=str+'w'
if(os.access(paths,os.X_OK)):
    str=str+'x'


stats=os.stat(paths)

filename=os.path.split(paths)

size=stats.st_size

uid=stats.st_uid

name=pwd.getpwuid(stats.st_uid).pw_name
mtime=stats.st_mtime
modification_time=datetime.datetime.fromtimestamp(mtime).strftime('%Y-%m-%d-%H:%M')
atime=stats.st_atime
access_time=datetime.datetime.fromtimestamp(atime).strftime('%Y-%m-%d-%H:%M')

print(f"Filename: {filename[1]} Size: {size}B UID: {uid} Username: {name} Last Modified : {modification_time} Permissions: {str} Last Accessed : {access_time} ")




